<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">#{app.alterar_permissoes_usuario_titulo}</ui:define>

    <ui:define name="content">
        <p:importEnum type="br.com.wcorrea.seguranca.Permissoes" var="PERMISSOES" allSuffix="ALL_ENUM_VALUES"/>

        <div class="ui-g ui-fluid">
            <div class="ui-g-12">
                <div class="card" style="padding-top: 1px; min-height: 150px;">
                    <h:form id="frm">

                        <h1>#{app.alterar_permissoes_usuario_titulo}</h1>

                        <div class="ui-g-6 ui-lg-6 ui-md-12 ui-sm-12 ">
                            <p:outputLabel value="#{app.lbl_usuario}" for="cmbUsuario"/>
                            <p:selectOneMenu id="cmbUsuario" value="#{permissaoUsuarioBean.usuario}"
                                             effect="drop"
                                             filter="true"
                                             filterMatchMode="contains">
                                <f:selectItem itemLabel="#{app.lbl_selecione}" itemValue="" noSelectionOption="true"/>
                                <f:selectItems value="#{permissaoUsuarioBean.usuarioList}"
                                               var="obj" itemValue="#{obj}" itemLabel="#{obj.nome}"/>
                                <p:ajax listener="#{permissaoUsuarioBean.carregarPermissoesIniciaisTela}" update="@form" partialSubmit="true"/>
                            </p:selectOneMenu>
                        </div>
                        <h:panelGrid class="ui-g-12" style="text-align: center;" rendered="#{!permissaoUsuarioBean.usuarioSelecionado}">
                            <p:graphicImage library="wcorrea" name="img/investigação.png"/>
                        </h:panelGrid>

                        <h:panelGrid id="pnlPermissoes" columns="4" layout="grid"
                                     styleClass="ui-fluid"
                                     style="width: 100%; margin-top: 20px; text-align: center;"
                                     columnClasses="ui-g-6, ui-g-2, ui-g-2, ui-g-2"
                                     rendered="#{permissaoUsuarioBean.usuarioSelecionado}">
                            <f:facet name="header">
                                <div class="ui-g ui-fluid;" style="border-bottom: 1px solid;">
                                    <div class="ui-g-6"><h:outputText value="#{app.lbl_permissoes}" styleClass="rotulo" style="color: #bd2828"/></div>
                                    <div class="ui-g-2"><h:outputText value="#{app.lbl_Listar}" styleClass="rotulo" style="color: #bd2828"/></div>
                                    <div class="ui-g-2"><h:outputText value="#{app.lbl_salvar_atualizar}" styleClass="rotulo" style="color: #bd2828"/></div>
                                    <div class="ui-g-2"><h:outputText value="#{app.lbl_excluir}" styleClass="rotulo" style="color: #bd2828"/></div>
                                </div>
                            </f:facet>

                            <h:outputText value="#{app.classe_despesa_titulo}" style="font-weight: bolder"/>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.CLASSE_DESPESA_PESQUISAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.CLASSE_DESPESA_PESQUISAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.CLASSE_DESPESA_SALVAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.CLASSE_DESPESA_SALVAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.CLASSE_DESPESA_EXCLUIR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.CLASSE_DESPESA_EXCLUIR}"/> <p:ajax/>
                            </p:inputSwitch>



                            <h:outputText value="#{app.universidade_titulo}" style="font-weight: bolder"/>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.UNIVERSIDADE_PESQUISAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.UNIVERSIDADE_PESQUISAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.UNIVERSIDADE_SALVAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.UNIVERSIDADE_SALVAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.UNIVERSIDADE_EXCLUIR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.UNIVERSIDADE_EXCLUIR}"/> <p:ajax/>
                            </p:inputSwitch>



                            <h:outputText value="#{app.estudante_titulo}" style="font-weight: bolder"/>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.ESTUDANTE_PESQUISAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.ESTUDANTE_PESQUISAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.ESTUDANTE_SALVAR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.ESTUDANTE_SALVAR}"/> <p:ajax/>
                            </p:inputSwitch>
                            <p:inputSwitch value="#{permissaoUsuarioBean.map[PERMISSOES.ESTUDANTE_EXCLUIR.toString()]}" offLabel="#{app.lbl_nao}" onLabel="#{app.lbl_sim}"
                                           valueChangeListener="#{permissaoUsuarioBean.alterarPermissaoUsuario}">
                                <f:attribute name="permissao" value="#{PERMISSOES.ESTUDANTE_EXCLUIR}"/> <p:ajax/>
                            </p:inputSwitch>
                        </h:panelGrid>
                    </h:form>

                </div>
            </div>
        </div>

    </ui:define>

</ui:composition>
